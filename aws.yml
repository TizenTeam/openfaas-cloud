provider:
  name: faas
  gateway: http://127.0.0.1:8080

functions:
  register-image:
    lang: go
    handler: ./register-image
    image: functions/register-image:latest
    labels:
    labels:
      openfaas-cloud: "1"
      role: openfaas-system
      com.openfaas.scale.zero: false
    environment:
      validate_hmac: false  # MUST CHANGE, DO NOT MERGE
      write_debug: true
      read_debug: true
      content_type: "application/json"
      AWS_DEFAULT_REGION: "eu-central-1"
      AWS_SHARED_CREDENTIALS_FILE: "/var/openfaas/secrets/credentials"
    secrets:
      - payload-secret
      - aws-ecr-credentials # kubectl create secret generic aws-ecr-credentials --from-file ~/.aws/credentials -n openfaas-fn
